parameters:
  - name: solution
    type: string
  - name: buildPlatform
    type: string
  - name: buildConfiguration
    type: string
    # default: 'Debug'
  - name: netVersion
    type: string

steps:
  - task: UseDotNet@2
    inputs:
      version: ${{ parameters.netVersion}}
      #includePreviewVersions: true
    # info
  - pwsh: $PSVersionTable
    name: PSVersionTable
  - script: dotnet --info
    name: dotnet_info
  - task: NuGetToolInstaller@1
  - task: NuGetCommand@2
    inputs:
      restoreSolution: ${{ parameters.solution }}
  
  - task: VSBuild@1
    inputs:
      solution: ${{ parameters.solution }}
      platform: ${{ parameters.buildPlatform }}
      configuration: ${{ parameters.buildConfiguration }}
    continueOnError: true
    
